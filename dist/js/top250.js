angular.module("$movieApp.top250Ctrl",[]).controller("$top250Ctrl",["$scope","$movieServ","$routeParams",function(e,a,t){t.pageid=t.pageid||1,e.movie={},e.isloading=!1;var o=5*(t.pageid-1),i=document.querySelectorAll(".paging>a");a.jsonp("https://api.douban.com/v2/movie/top250",{count:5,start:o},function(a){if(e.movie=a,e.prevPage=t.pageid-0-1,1==t.pageid){t.pageid=1;for(var o=0;o<2;o++)i[o].setAttribute("onclick","return false")}if(e.nextPage=t.pageid-0+1,e.pageCount=Math.ceil(a.total/5),e.total=a.total,e.pageid=t.pageid,t.pageid==e.pageCount){t.pageid=e.pageCount;for(var o=2;o<3;o++)i[o].setAttribute("onclick","return false")}e.isloading=!0,e.$apply()})}]);